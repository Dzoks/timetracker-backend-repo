(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t){e.exports="data:image/png;base64,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"},157:function(e,t,a){},192:function(e,t,a){},210:function(e,t,a){e.exports=a(397)},387:function(e,t,a){},392:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),s=a(17),c=a(14),l=a(19),u=a(18),d=a(20),p=a(56),m=a(74),f=a(41),h=a(9),j=a(404),b=a(26),E=a(402),v=a(406),k=a(208),y=a(122),g=a(398),O=(a(157),"LOGIN"),A="GET_STATE",S="LOGOUT",I="GET_PROJECTS",C="ADD_PROJECT",D="DELETE_PROJECT",w="GET_TIMESHEETS",z="SELECT_DATE",P="DELETE_TIMESHEET",N="ADD_TIMESHEET",R="SELECT_MENU",F="FINISH_PROJECT",T="EDIT_PROJECT",U="UPDATE_PASSWORD",G=a(22),M=a.n(G),H=function(){return function(e){return new Promise(function(t,a){M.a.get("hub/project").then(function(n){200===n.status?(e({type:I,payload:n.data}),t()):a()}).catch(function(e){return t()})})}},q=function(e){return{type:R,payload:e}},x=a(399),L=a(110),B=a.n(L),Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={timesheets:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.a.get("hub/timesheet/byUserAndProject/".concat(this.props.userId,"/").concat(this.props.projectId)).then(function(t){e.setState({timesheets:t.data})})}},{key:"render",value:function(){return r.a.createElement(x.a,{dataSource:this.state.timesheets,bordered:!0,pagination:{defaultPageSize:4}},r.a.createElement(x.a.Column,{title:"Datum",dataIndex:"date",key:"date",width:150,render:function(e){return B()(e,"dd.mm.yyyy.")}}),r.a.createElement(x.a.Column,{title:"Broj sati",dataIndex:"hours",key:"hours",width:100}),r.a.createElement(x.a.Column,{title:"Iznos",dataIndex:"turnover",key:"turnover",width:150,render:function(e){return r.a.createElement("span",null,e," KM")}}),r.a.createElement(x.a.Column,{title:"Opis",dataIndex:"description",render:function(e){return e?r.a.createElement(g.a,{content:e,title:"Opis",placement:"left"},r.a.createElement(f.a,{size:"small",type:"circle",icon:"info",className:"action-btn"})):null}}))}}]),t}(r.a.Component),Z=a(28),V=a(75),W=a(400),K=a(405),X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onCancel=function(){a.setState({visible:!1})},a.showModal=function(e,t){a.setState({visible:!0,projectId:e,userId:t})},a.state={visible:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{visible:this.state.visible,title:"Dodavanje novog projekta",footer:!1,onCancel:this.onCancel,destroyOnClose:!0},r.a.createElement(Q,{projectId:this.state.projectId,userId:this.state.userId}))}}]),t}(r.a.Component),Y=a(58),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||M.a.post("hub/userHasProject",Object(Z.a)({},t,{projectId:a.props.projectId})).then(function(e){200===e.status?(a.props.form.resetFields(),a.setState({users:a.state.users.filter(function(e){return e.id!==t.userId})}),a.props.updateParentList(e.data),v.a.success("Korisnik dodan u projekat.")):v.a.error("Gre\u0161ka prilikom dodavanja korisnika u projekat.")}).catch(function(e){return v.a.error("Gre\u0161ka prilikom dodavanja korisnika u projekat.")})})},a.state={users:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.a.get("hub/user/availableFor/".concat(this.props.projectId)).then(function(t){200===t.status&&e.setState({users:t.data})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(W.a,{layout:"inline",className:"form-container",onSubmit:this.onSubmit},r.a.createElement(W.a.Item,null,e("userId",{rules:[{required:!0}]})(r.a.createElement(Y.a,{showSearch:!0,style:{width:370},placeholder:"Odaberite korisnika",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.users.map(function(e){return r.a.createElement(Y.a.Option,{value:e.id,key:e.id},e.firstName," ",e.lastName," (",e.email,")")})))),r.a.createElement(W.a.Item,null,e("hourRate",{rules:[{required:!0}]})(r.a.createElement(K.a,{placeholder:"Satnica",min:0}))),r.a.createElement(f.a,{type:"primary",htmlType:"submit",icon:"plus"},"Dodajte")))}}]),t}(r.a.Component),_=W.a.create({name:"add_user_to_project"})(J),$=W.a.create({name:"changeRateForm"})(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onSubmit,o=e.form,i=e.loading,s=o.getFieldDecorator;return r.a.createElement(E.a,{visible:t,title:"Promjena satnice",destroyOnClose:!0,onCancel:a,width:210,footer:[r.a.createElement(f.a,{key:"back",onClick:a},"Nazad"),r.a.createElement(f.a,{form:"changeRateForm",htmlType:"submit",type:"primary",loading:i,onClick:n},"Sa\u010duvaj")]},r.a.createElement(W.a,{layout:"vertical",onSubmit:n},r.a.createElement(W.a.Item,{label:"Satnica:"},s("hourRate",{initialValue:this.props.hourRate,rules:[{required:!0,message:"Satnica je obavezna!"}]})(r.a.createElement(K.a,{value:this.props.hourRate,min:0,autoFocus:!0})))))}}]),t}(r.a.Component)),ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).saveFormRef=function(e){a.formRef=e},a.showModal=function(e,t){a.setState({visible:!0,selectedHourRate:t,selectedUser:e})},a.handleCancel=function(){a.setState({visible:!1,selectedHourRate:null,selectedUser:null})},a.onAddSuccess=function(e){a.setState({users:[].concat(Object(V.a)(a.state.users),[e])})},a.onEdit=function(e){e.preventDefault(),a.formRef.props.form.validateFields(function(e,t){if(!e){var n=Object(Z.a)({id:a.state.selectedUser},t);a.setState({loading:!0}),M.a.put("hub/userHasProject",n).then(function(e){200===e.status&&e.data?(a.setState({users:a.state.users.map(function(e){return e.id!==n.id?e:Object(Z.a)({},e,{hourRate:n.hourRate})})}),v.a.success("Uspje\u0161na izmjena satnice."),a.setState({visible:!1,loading:!1})):(v.a.error("Neuspje\u0161na izmjena satnice."),a.setState({loading:!1}))}).catch(function(e){a.setState({loading:!1}),v.a.error("Neuspje\u0161na izmjena satnice.")})}})},a.onDelete=function(e){M.a.delete("hub/userHasProject/".concat(e.id)).then(function(t){t.data.blocked?(a.setState({users:a.state.users.map(function(t){return t.id===e.id?Object(Z.a)({},t,{blocked:!0}):t})}),v.a.success("Uspje\u0161no blokiranje")):(a.setState({users:a.state.users.filter(function(t){return t.id!==e.id})}),v.a.success("Uspje\u0161no brisanje"))}).catch(function(e){return v.a.error("Neuspje\u0161no brisanje.")})},a.onUnblock=function(e){M.a.put("hub/userHasProject/unblock/".concat(e.id)).then(function(t){t.data&&(a.setState({users:a.state.users.map(function(t){return t.id===e.id?Object(Z.a)({},t,{blocked:!1}):t})}),v.a.success("Korisnik ponovo aktiviran"))}).catch(function(e){return v.a.error("Neuspje\u0161no reaktiviranje.")})},a.state={users:[],visible:!1,selectedUser:null,selectedHourRate:null,loading:!1},a.timesheetRef=r.a.createRef(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.a.get("hub/userHasProject/".concat(this.props.project.id)).then(function(t){e.setState({users:t.data})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement($,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,loading:this.state.loading,hourRate:this.state.selectedHourRate,onSubmit:this.onEdit}),r.a.createElement(X,{ref:this.timesheetRef}),r.a.createElement("strong",null,"Korisnici na projektu:"),r.a.createElement("br",null),!this.props.project.finished&&r.a.createElement(_,{projectId:this.props.project.id,updateParentList:this.onAddSuccess}),r.a.createElement(x.a,{bordered:!0,dataSource:this.state.users,rowKey:"id"},r.a.createElement(x.a.Column,{dataIndex:"firstName",title:"Ime"}),r.a.createElement(x.a.Column,{dataIndex:"lastName",title:"Prezime"}),r.a.createElement(x.a.Column,{dataIndex:"hourRate",title:"Satnica"}),r.a.createElement(x.a.Column,{dataIndex:"totalHours",title:"Ukupno sati"}),r.a.createElement(x.a.Column,{dataIndex:"totalTurnover",title:"Ukupan iznos"}),r.a.createElement(x.a.Column,{dataIndex:"action",render:function(t,a){var n=a.projectId,o=a.userId,i=o===e.props.user.id;return r.a.createElement("div",null,r.a.createElement(y.a,{title:"Zapisi"},r.a.createElement(f.a,{type:"circle",size:"small",icon:"info",onClick:function(t){return e.timesheetRef.current.showModal(n,o)}})),!e.props.project.finished&&!a.blocked&&r.a.createElement(y.a,{title:"Promjena satnice"},r.a.createElement(f.a,{type:"circle",size:"small",icon:"edit",onClick:function(t){return e.showModal(a.id,a.hourRate)}})),!e.props.project.finished&&!i&&!a.blocked&&r.a.createElement(y.a,{title:"Brisanje"},r.a.createElement(f.a,{type:"circle",size:"small",icon:"delete",className:"delete-btn",onClick:function(t){return e.onDelete(a)}})),!e.props.project.finished&&!i&&!!a.blocked&&r.a.createElement(y.a,{title:"Reaktiviranje"},r.a.createElement(f.a,{type:"circle",size:"small",icon:"reload",onClick:function(t){return e.onUnblock(a)}})))}})))}}]),t}(r.a.Component),te=Object(b.b)(function(e){return{user:e.userData}},{})(ee),ae=a(403),ne=a(401),re=a(12),oe=a.n(re),ie=W.a.create({name:"editProject"})(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.project.startDate;e=new Date(e),this.props.form.setFieldsValue(Object(Z.a)({},this.props.project,{startDate:oe()(e)}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(W.a,{layout:"horizontal"},r.a.createElement(W.a.Item,{label:"Naziv:"},e("name",{rules:[{required:!0,message:"Naziv je obavezan!"}]})(r.a.createElement(ae.a,{onPressEnter:this.props.onSubmit,autoFocus:!0}))),r.a.createElement(W.a.Item,{label:"Opis:"},e("description")(r.a.createElement(ae.a,{onPressEnter:this.props.onSubmit,type:"textarea"}))),r.a.createElement(W.a.Item,{label:"Datum po\u010detka:"},e("startDate",{rules:[{required:!0,message:"Datum po\u010detka je obavezan!"}]})(r.a.createElement(ne.a,{disabled:this.props.project.totalHours>0,format:"DD.MM.YYYY"}))))}}]),t}(r.a.Component)),se=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onEditCancel=function(){a.form.props.form.resetFields(),a.setState({visible:!1})},a.showModal=function(){a.setState({visible:!0})},a.onEdit=function(){a.form.props.form.validateFields(function(e,t){e||(a.setState({confirmLoading:!0}),a.props.editProject(Object(Z.a)({},a.props.project,t)).then(function(e){a.form.props.form.resetFields(),a.setState({confirmLoading:!1,visible:!1}),v.a.success("Uspje\u0161na izmjena.")}).catch(function(e){a.setState({confirmLoading:!1}),v.a.error("Gre\u0161ka prilikom izmjene.")}))})},a.state={visible:!1,confirmLoading:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{visible:this.state.visible,title:"Izmjena projekta",okText:"Sa\u010duvajte",confirmLoading:this.state.confirmLoading,onCancel:this.onEditCancel,destroyOnClose:!0,footer:[r.a.createElement(f.a,{key:"back",onClick:this.onEditCancel},"Nazad"),r.a.createElement(f.a,{form:"editProject",htmlType:"submit",type:"primary",loading:this.state.confirmLoading,onClick:this.onEdit},"Sa\u010duvaj")]},r.a.createElement(ie,{onSubmit:this.onEdit,project:this.props.project,wrappedComponentRef:function(t){return e.form=t}}))}}]),t}(r.a.Component),ce=Object(b.b)(null,{editProject:function(e){return function(t){return new Promise(function(a,n){M.a.put("hub/project",e).then(function(r){200===r.status&&r.data?(t({type:T,payload:e}),a(r)):n()}).catch(function(e){return n()})})}}},null,{forwardRef:!0})(se),le=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onEdit=function(){a.editRef.current.showModal()},a.onFinish=function(){E.a.confirm({title:"Da li ste sigurni da \u017eelite da zavr\u0161ite projekat?",okText:"Da",okType:"success",cancelText:"Ne",onOk:function(){a.props.finishProject(a.props.project).then(function(e){return v.a.success("Projekat uspje\u0161no zavr\u0161en.")}).catch(function(e){return v.a.error("Gre\u0161ka prilikom zavr\u0161avanja projekta.")})}})},a.onDelete=function(){E.a.confirm({title:"Da li ste sigurni da \u017eelite da obri\u0161ete projekat?",okText:"Da",okType:"danger",cancelText:"Ne",onOk:function(){a.props.deleteProject(a.props.project.id).then(function(e){return v.a.success("Projekat uspje\u0161no obrisan.")}).catch(function(e){return v.a.error("Gre\u0161ka prilikom brisanja projekta.")})}})},a.state={projectManager:null,userTimesheets:null},a.editRef=r.a.createRef(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.a.get("hub/user/".concat(this.props.project.projectManagerId)).then(function(t){var a=t.data;a&&e.setState({projectManager:"".concat(a.firstName," ").concat(a.lastName)})})}},{key:"render",value:function(){var e,t=this.props,a=t.project,n=t.user,o=this.state.projectManager;e=a.finished?r.a.createElement(k.a,{color:"#87d068"},"Zavr\u0161en"):new Date(a.startDate)>new Date?r.a.createElement(k.a,{color:"#2db7f5"},"Nije zapo\u010det"):r.a.createElement(k.a,{color:"#108ee9"},"U toku");var i=n.id===a.projectManagerId;return r.a.createElement("div",{className:"project-panel"},r.a.createElement(ce,{project:a,ref:this.editRef}),r.a.createElement("div",{className:"project-container"},r.a.createElement("div",{className:"project-info"},r.a.createElement("div",{className:"project-manager"},r.a.createElement("strong",null,"Rukovodilac projekta:")," ",o),r.a.createElement("div",{className:"project-start date"},r.a.createElement("strong",null,"Datum po\u010detka:")," ",B()(new Date(a.startDate),"dd.mm.yyyy.")),r.a.createElement("div",{className:"project-status>"},r.a.createElement("strong",null,"Status: "),e),i&&r.a.createElement("div",{className:"total-hours>"},r.a.createElement("strong",null,"Utro\u0161eno sati: "),a.totalHours||0," h"),i&&r.a.createElement("div",{className:"total-amount>"},r.a.createElement("strong",null,"Utro\u0161eno sredstava: "),a.totalAmount||0," KM")),i?r.a.createElement("div",{className:"project-users"},r.a.createElement(te,{project:a})):r.a.createElement("div",{className:"user-timesheets"},r.a.createElement(Q,{userId:n.id,projectId:a.id})),!a.finished&&r.a.createElement("div",{className:"project-buttons"},i&&r.a.createElement(y.a,{title:"Zavr\u0161avanje projekta"},r.a.createElement(f.a,{type:"circle",icon:"check",className:"action-btn finish-btn",onClick:this.onFinish})),a.description&&r.a.createElement(g.a,{content:this.props.project.description,title:"Opis",placement:"left"},r.a.createElement(f.a,{type:"circle",icon:"info",className:"action-btn"})),i&&r.a.createElement(y.a,{title:"Izmjena"},r.a.createElement(f.a,{type:"circle",icon:"edit",className:"action-btn",onClick:this.onEdit})),i&&r.a.createElement(y.a,{title:"Brisanje"},r.a.createElement(f.a,{type:"circle",onClick:this.onDelete,icon:"delete",className:"action-btn delete-btn"})))))}}]),t}(r.a.Component),ue=Object(b.b)(function(e){return{user:e.userData}},{deleteProject:function(e){return function(t){return new Promise(function(a,n){M.a.delete("hub/project/".concat(e)).then(function(n){200===n.status&&n.data&&(t({type:D,payload:e}),a())}).catch(function(e){return n()})})}},finishProject:function(e){return function(t){return new Promise(function(a,n){M.a.put("hub/project/finish/".concat(e.id)).then(function(n){200===n.status&&n.data&&(t({type:F,payload:e}),a())}).catch(function(e){return n()})})}}})(le),de=W.a.create("addProjectForm")(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement(W.a,{layout:"horizontal",onSubmit:function(e){return alert(e)}},r.a.createElement(W.a.Item,{label:"Naziv:"},t("name",{rules:[{required:!0,message:"Naziv je obavezan!"}]})(r.a.createElement(ae.a,{onPressEnter:this.props.onSubmit,autoFocus:!0}))),r.a.createElement(W.a.Item,{label:"Opis:"},t("description")(r.a.createElement(ae.a,{onPressEnter:this.props.onSubmit,type:"textarea"}))),r.a.createElement(W.a.Item,{label:"Datum po\u010detka:"},t("startDate",{rules:[{required:!0,message:"Datum po\u010detka je obavezan!"}]})(r.a.createElement(ne.a,{onKeyDown:this.props.onSubmit,oplaceholder:"Odaberite datum",format:"DD.MM.YYYY"}))),r.a.createElement(W.a.Item,{label:"Satnica rukovodioca:"},t("hourRate",{rules:[{required:!0,message:"Satnica rukovodioca je obavezna!"}]})(r.a.createElement(K.a,{onKeyDown:function(t){13===t.keyCode&&e.props.onSubmit()},min:1}))))}}]),t}(r.a.Component)),pe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onAddCancel=function(){a.form.props.form.resetFields(),a.setState({visible:!1})},a.showModal=function(){a.setState({visible:!0})},a.onAdd=function(){a.form.props.form.validateFields(function(e,t){e||(a.setState({confirmLoading:!0}),a.props.addProject(t).then(function(e){a.form.props.form.resetFields(),a.setState({confirmLoading:!1,visible:!1}),v.a.success("Projekat uspje\u0161no dodan.")}).catch(function(e){a.setState({confirmLoading:!1}),v.a.error("Gre\u0161ka prilikom dodavanja projekta.")}))})},a.state={visible:!1,confirmLoading:!1},a.form=null,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{visible:this.state.visible,title:"Dodavanje novog projekta",onCancel:this.onAddCancel,onOk:this.onAdd,destroyOnClose:!0,footer:[r.a.createElement(f.a,{key:"back",onClick:this.onAddCancel},"Nazad"),r.a.createElement(f.a,{form:"addProjectForm",htmlType:"submit",key:"submit",type:"primary",loading:this.state.confirmLoading,onClick:this.onAdd},"Sa\u010duvajte")]},r.a.createElement(de,{onSubmit:this.onAdd,wrappedComponentRef:function(t){return e.form=t}}))}}]),t}(r.a.Component),me=Object(b.b)(null,{addProject:function(e){return function(t){return new Promise(function(a,n){M.a.post("hub/project",e).then(function(e){200===e.status?(t({type:C,payload:e.data}),a(e)):n()}).catch(function(e){return n()})})}}},null,{forwardRef:!0})(pe),fe=(a(387),1),he=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).mapProjectsToPanel=function(){},a.showModal=function(){a.addModalRef.current.showModal()},a.addModalRef=r.a.createRef(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getProjects(),this.props.selectMenuItem("project")}}]),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"project-panel"},this.props.isProjectManager&&r.a.createElement(f.a,{className:"project-add-btn",type:"primary",onClick:this.showModal},r.a.createElement(h.a,{type:"plus"}),"Dodajte novi projekat"),r.a.createElement(me,{ref:this.addModalRef}),r.a.createElement(j.a,{accordion:!0,className:"project-collapse"},this.props.projects.map(function(e){return r.a.createElement(j.a.Panel,{header:e.name,key:e.id},r.a.createElement(ue,{project:e}))})))}}]),t}(r.a.Component),je=Object(b.b)(function(e){return{projects:e.projects,isProjectManager:e.userData.userGroupId===fe}},{getProjects:H,selectMenuItem:q})(he),be=(a(191),a(192),a(121)),Ee=a.n(be),ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.loginAction(t).then(function(){v.a.success("Uspje\u0161no ste se prijavili.",2),a.props.history.push("/timesheet")}).catch(function(e){return v.a.error("Pogre\u0161ni podaci za prijavljivanje. Molimo poku\u0161ajte ponovo.",2)})})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(this.props.authenticated)return r.a.createElement(m.a,{to:"/"});var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"login-panel"},r.a.createElement("img",{src:Ee.a,alt:"logo",className:"login-logo"}),r.a.createElement(W.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(W.a.Item,{help:!1},e("email",{rules:[{required:!0,message:"Email je obavezan!"}]})(r.a.createElement(ae.a,{prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(W.a.Item,null,e("password",{rules:[{required:!0,message:"Lozinka je obavezna!"}]})(r.a.createElement(ae.a,{prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Lozinka"}))),r.a.createElement(W.a.Item,null,r.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Prijavite se"))))}}]),t}(r.a.Component),ke=Object(b.b)(function(e){return{authenticated:!!e.userData}},{loginAction:function(e){return function(t){return new Promise(function(a,n){M.a.post("hub/user/login",e).then(function(e){200===e.status&&e.data.authorized?(t({type:O,payload:e.data.user}),a()):(t({type:O,payload:e.data.user}),n())}).catch(function(e){return n()})})}}})(W.a.create({})(ve)),ye=a(408),ge=a(407),Oe=(a(392),function(e,t){return!(!e||!t)&&(e.getFullYear()===t.getFullYear()&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth())}),Ae=2,Se=(a(393),W.a.create({name:"addDescriptionForm"})(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onAdd,o=e.form,i=e.loading,s=o.getFieldDecorator;return r.a.createElement(E.a,{visible:t,title:"Dodavanje novog unosa",destroyOnClose:!0,onCancel:a,footer:[r.a.createElement(f.a,{key:"back",onClick:a},"Nazad"),r.a.createElement(f.a,{form:"addDescriptionForm",htmlType:"submit",type:"primary",loading:i,onClick:n},"Sa\u010duvaj")]},r.a.createElement(W.a,{layout:"vertical",onSubmit:n},r.a.createElement(W.a.Item,{label:"Opis (opciono):"},s("description")(r.a.createElement(ae.a,{autoFocus:!0})))))}}]),t}(r.a.Component))),Ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).saveFormRef=function(e){a.formRef=e},a.onSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.setState({popupVisible:!0})})},a.onAdd=function(e){e.preventDefault(),a.setState({loading:!0});var t=Object(Z.a)({},a.props.form.getFieldsValue(),a.formRef.props.form.getFieldsValue(),{date:a.props.selectedDate});a.props.addTimesheet(t).then(function(e){v.a.success("Uspje\u0161no dodavanje."),a.props.form.resetFields(),a.setState({loading:!1,popupVisible:!1})}).catch(function(e){a.setState({loading:!1}),v.a.error("Gre\u0161ka prilikom dodavanja.")})},a.state={popupVisible:!1,loading:!1},a.formRef=r.a.createRef(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getProjects()}},{key:"componentDidUpdate",value:function(){var e=this.props.form;this.props.projects.find(function(t){return t.userHasProjectId===e.getFieldsValue().userHasProjectId})||e.resetFields()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(Se,{wrappedComponentRef:this.saveFormRef,loading:this.state.loading,visible:this.state.popupVisible,onCancel:function(){return e.setState({popupVisible:!1,loading:!1})},onAdd:this.onAdd}),r.a.createElement(W.a,{layout:"inline",className:"form-container",onSubmit:this.onSubmit},r.a.createElement(W.a.Item,null,t("userHasProjectId",{rules:[{required:!0}]})(r.a.createElement(Y.a,{showSearch:!0,style:{width:150},placeholder:"Projekat",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.props.projects.map(function(e){return r.a.createElement(Y.a.Option,{value:e.userHasProjectId,key:e.userHasProjectId},e.name)})))),r.a.createElement(W.a.Item,null,t("hours",{rules:[{required:!0}]})(r.a.createElement(K.a,{placeholder:"h",style:{width:50},min:0,precision:0,step:1,max:24}))),r.a.createElement(f.a,{type:"primary",htmlType:"submit",shape:"circle",icon:"plus",size:"small"})))}}]),t}(r.a.Component),Ce=W.a.create({name:"normal_login"})(Ie),De=Object(b.b)(function(e){return{selectedDate:e.selectedDate,projects:e.projects.filter(function(t){return!t.finished&&new Date(t.startDate)<=e.selectedDate})}},{getProjects:H,addTimesheet:function(e){return function(t){return new Promise(function(a,n){M.a.post("hub/timesheet",e).then(function(e){200===e.status?(t({type:N,payload:e.data}),a()):n()}).catch(function(e){return n()})})}}})(Ce),we=(a(394),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onDelete=function(e){E.a.confirm({title:"Da li ste sigurni da \u017eelite da obri\u0161ete unos?",okText:"Da",okType:"danger",cancelText:"Ne",onOk:function(){a.props.deleteTimesheet(e)}})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.className},r.a.createElement(De,null),r.a.createElement("ul",{className:"sheet-list"},this.props.selectedTimesheets.map(function(t){return r.a.createElement("li",{className:"sheet-list-item",key:t.id},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("strong",null,"Projekat: "),t.projectName),r.a.createElement("div",null,r.a.createElement("strong",null,"Broj sati: "),t.hours," h")),r.a.createElement("div",null,t.description&&r.a.createElement(g.a,{content:t.description,title:"Opis",placement:"left"},r.a.createElement(f.a,{size:"small",type:"circle",icon:"info",className:"action-btn"})),r.a.createElement(f.a,{type:"circle",size:"small",onClick:function(a){return e.onDelete(t.id)},icon:"delete",className:"action-btn delete-btn"})))})))}}]),t}(r.a.Component)),ze=Object(b.b)(function(e){var t=e.selectedDate,a=e.timesheets;return{selectedTimesheets:t?a.filter(function(e){return Oe(t,e.date)}):[]}},{deleteTimesheet:function(e){return function(t){return new Promise(function(a,n){M.a.delete("hub/timesheet/".concat(e)).then(function(r){200===r.status?(t({type:P,payload:e}),a()):n()}).catch(function(e){return n()})})}}})(we),Pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).getTimesheetsForDate=function(e){return a.props.timesheets.filter(function(t){return Oe(t.date,new Date(e))})},a.cellRender=function(e){return r.a.createElement("ul",{className:"date-render"},a.getTimesheetsForDate(e).map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(ye.a,{status:"success",text:e.projectName}))}))},a.onDateSelect=function(e){a.props.selectDate(new Date(e))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getTimesheets(this.props.user.id),this.props.selectMenuItem("timesheet"),this.props.selectDate(new Date)}},{key:"render",value:function(){return r.a.createElement("div",{className:"timesheet-layout"},r.a.createElement("div",{className:"calendar-layout"},r.a.createElement(ge.a,{dateCellRender:this.cellRender,onSelect:this.onDateSelect})),r.a.createElement("div",{className:"sheet-layout"},r.a.createElement(ze,{className:"sheet-sidebar"})))}}]),t}(r.a.Component),Ne=Object(b.b)(function(e){return{timesheets:e.timesheets,user:e.userData}},{getTimesheets:function(e){return function(t){return new Promise(function(a,n){M.a.get("hub/timesheet/byUser/".concat(e)).then(function(e){200===e.status?(t({type:w,payload:e.data}),a()):n()}).catch(function(e){return n()})})}},selectDate:function(e){return{type:z,payload:e}},selectMenuItem:q})(Pe),Re=a(206),Fe=function(e){var t=e.component,a=e.authenticated,n=Object(Re.a)(e,["component","authenticated"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Te=a(155),Ue=(a(395),W.a.create("passwordForm")(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("newPassword")?n("Ponovljena lozinka nije identi\u010dna!"):n()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(W.a,{layout:"horizontal",onSubmit:this.props.onSubmit},r.a.createElement(W.a.Item,{label:"Trenutna lozinka:"},e("oldPassword",{rules:[{required:!0,message:"Trenutna lozinka je obavezna!"}]})(r.a.createElement(ae.a.Password,null))),r.a.createElement(W.a.Item,{label:"Nova lozinka:"},e("newPassword",{rules:[{required:!0,message:"Nova lozinka je obavezna!"}]})(r.a.createElement(ae.a.Password,null))),r.a.createElement(W.a.Item,{label:"Potvrdite lozinku:"},e("confirmPassword",{rules:[{required:!0,message:"Potvr\u0111ena lozinka je obavezna!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(ae.a.Password,null))))}}]),t}(r.a.Component))),Ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onCancel=function(){a.setState({visible:!1})},a.showModal=function(){a.setState({visible:!0})},a.onSubmit=function(){a.form.props.form.validateFields(function(e,t){e||(a.setState({confirmLoading:!0}),a.props.updatePassword(Object(Z.a)({id:a.props.user.id},t)).then(function(e){a.setState({confirmLoading:!1,visible:!1}),v.a.success("Promjena lozinke uspje\u0161na.")}).catch(function(e){a.setState({confirmLoading:!1}),v.a.error("Gre\u0161ka prilikom promjene lozinke.")}))})},a.state={visible:!1,confirmLoading:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{visible:this.state.visible,title:"Promjena lozinke",onCancel:this.onCancel,confirmLoading:this.state.confirmLoading,destroyOnClose:!0,footer:[r.a.createElement(f.a,{key:"back",onClick:this.onCancel},"Nazad"),r.a.createElement(f.a,{form:"passwordForm",htmlType:"submit",type:"primary",loading:this.state.confirmLoading,onClick:this.onSubmit},"Sa\u010duvaj")]},r.a.createElement(Ue,{wrappedComponentRef:function(t){return e.form=t},onSubmit:this.onSubmit}))}}]),t}(r.a.Component),Me=Object(b.b)(function(e){return{user:e.userData}},{updatePassword:function(e){return function(t){return new Promise(function(a,n){M.a.put("hub/user/changePassword",e).then(function(r){200===r.status&&r.data?(t({type:U,payload:e}),a()):n()}).catch(function(e){return n()})})}}},null,{forwardRef:!0})(Ge),He=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).showModal=function(){a.modalRef.current.showModal()},a.logout=function(e){a.props.logoutAction().then(function(e){v.a.success("Uspje\u0161no ste se odjavili."),a.props.history.push("/")})},a.handleClick=function(e){a.setState({current:e.key})},a.state={current:"timesheet"},a.modalRef=r.a.createRef(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.authenticated?r.a.createElement("div",null,r.a.createElement(Me,{ref:this.modalRef}),r.a.createElement("img",{alt:"logo",src:Ee.a,className:"menu-logo"}),r.a.createElement(Te.b,{onClick:this.handleClick,selectedKeys:[this.props.selectedMenuItem],mode:"horizontal",className:"header"},r.a.createElement(Te.b.Item,{key:"timesheet"},r.a.createElement(p.b,{to:"/"},"Kalendar")),r.a.createElement(Te.b.Item,{key:"project"},r.a.createElement(p.b,{to:"/project"},"Projekti")),r.a.createElement(Te.b.Item,{key:"user"},r.a.createElement(p.b,{hidden:this.props.user.userGroupId===Ae,to:"/user"},"Korisnici")),r.a.createElement("span",{style:{float:"right"}},r.a.createElement("span",{style:{marginRight:"8px"}},r.a.createElement("strong",null,r.a.createElement("i",null,this.props.user.firstName," ",this.props.user.lastName))),r.a.createElement(y.a,{title:"Promijenite lozinku"},r.a.createElement(h.a,{type:"lock",className:"change-password",onClick:this.showModal})),r.a.createElement(f.a,{className:"logout-btn",type:"primary",onClick:this.logout},"Odjavite se")))):null}}]),t}(r.a.Component),qe=Object(b.b)(function(e){return{user:e.userData,authenticated:!!e.userData,selectedMenuItem:e.selectedMenuItem}},{logoutAction:function(){return function(e){return new Promise(function(t,a){M.a.get("hub/user/logout").then(function(n){200===n.status&&n.data?(e({type:S,payload:n.data}),t()):a()}).catch(function(e){return a()})})}}})(Object(m.e)(He)),xe=a(198),Le=(a(396),W.a.create({name:"userForm"})(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(W.a,{layout:"vertical"},r.a.createElement(W.a.Item,{label:"Email"},e("email",{initialValue:this.props.user.email,rules:[{required:!0,message:"Email je obavezan!"}]})(r.a.createElement(ae.a,{onPressEnter:this.props.onSubmit,autoFocus:!0}))),r.a.createElement(W.a.Item,{label:"Grupa",style:{display:this.props.hideGroup?"none":"inherit"}},e("userGroupId",{initialValue:this.props.user.userGroupId,rules:[{required:!0,message:"Grupa je obavezna!"}]})(r.a.createElement(Y.a,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.props.userGroups.map(function(e){return r.a.createElement(Y.a.Option,{value:e.id,key:e.id},e.name)})))),r.a.createElement(W.a.Item,{label:"Ime"},e("firstName",{initialValue:this.props.user.firstName,rules:[{required:!0,message:"Ime je obavezno!"}]})(r.a.createElement(ae.a,{onPressEnter:this.props.onSubmit}))),r.a.createElement(W.a.Item,{label:"Prezime"},e("lastName",{initialValue:this.props.user.lastName,rules:[{required:!0,message:"Prezime je obavezno!"}]})(r.a.createElement(ae.a,{onPressEnter:this.props.onSubmit}))))}}]),t}(r.a.Component))),Be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onCancel=function(){a.setState({visible:!1})},a.showAddModal=function(){a.setState({title:"Dodavanje korisnika",visible:!0})},a.showEditModal=function(e,t){a.setState({hideUserGroup:t===e.id,user:e,title:"Izmjena korisnika",visible:!0})},a.onSubmit=function(e){e.preventDefault(),a.form.props.form.validateFields(function(e,t){e||(a.state.user.id?a.onEdit(t):a.onAdd(t))})},a.onAdd=function(e){a.setState({confirmLoading:!0}),M.a.post("hub/user",e).then(function(t){200===t.status&&t.data?(v.a.success("Korisnik uspje\u0161no dodan."),a.props.onAdd(e),a.setState({visible:!1,confirmLoading:!1})):(v.a.error("Gre\u0161ka prilikom dodavanja."),a.setState({confirmLoading:!1}))}).catch(function(e){400===e.response.status?v.a.error(e.response.data):v.a.error("Neuspje\u0161na izmjena."),a.setState({confirmLoading:!1})})},a.onEdit=function(e){var t=Object(Z.a)({},a.state.user,e);a.setState({confirmLoading:!0}),M.a.put("hub/user",t).then(function(e){200===e.status&&e.data?(v.a.success("Uspje\u0161na izmjena."),a.props.onEdit(t),a.setState({visible:!1,confirmLoading:!1})):(v.a.error("Neuspje\u0161na izmjena."),a.setState({confirmLoading:!1}))}).catch(function(e){400===e.response.status?v.a.error(e.response.data):v.a.error("Neuspje\u0161na izmjena."),a.setState({confirmLoading:!1})})},a.state={hideUserGroup:!1,title:"Dodavanje korisnika",visible:!1,confirmLoading:!1,user:{}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{visible:this.state.visible,title:this.state.title,onCancel:this.onCancel,destroyOnClose:!0,footer:[r.a.createElement(f.a,{key:"back",onClick:this.onCancel},"Nazad"),r.a.createElement(f.a,{form:"userForm",htmlType:"submit",key:"submit",type:"primary",loading:this.state.confirmLoading,onClick:this.onSubmit},"Sa\u010duvaj")]},"   ",r.a.createElement(Le,{hideGroup:this.state.hideUserGroup,userGroups:this.props.userGroups,onSubmit:this.onSubmit,user:this.state.user,wrappedComponentRef:function(t){return e.form=t}}))}}]),t}(r.a.Component),Qe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).showAddModal=function(){a.userModalRef.current.showAddModal()},a.onDelete=function(e){E.a.confirm({title:"Da li ste sigurni da \u017eelite da obri\u0161ete korisnika?",okText:"Da",okType:"danger",cancelText:"Ne",onOk:function(){M.a.delete("hub/user/".concat(e.id)).then(function(t){200===t.status&&t.data?(v.a.success("Korisnik uspje\u0161no obrisan."),a.setState({users:a.state.users.filter(function(t){return t.id!==e.id})})):v.a.error("Neuspje\u0161no brisanje.")}).catch(function(e){400===e.response.status?v.a.error(e.response.data):v.a.error("Neuspje\u0161no brisanje.")})}})},a.onGeneratePassword=function(e){E.a.confirm({title:"Da li ste sigurni da \u017eelite da generi\u0161ete novu lozinku za korisnika?",okText:"Da",okType:"danger",cancelText:"Ne",onOk:function(){M.a.put("hub/user/generatePassword",{id:e.id}).then(function(e){200===e.status&&e.data?v.a.success("Uspje\u0161no generisana nova lozinka."):v.a.error("Gre\u0161ka prilikom generisanja lozinke.")}).catch(function(e){400===e.response.status?v.a.error(e.response.data):v.a.error("Gre\u0161ka prilikom generisanja lozinke.")})}})},a.onAdd=function(e){a.setState({users:[].concat(Object(V.a)(a.state.users),[e])})},a.onEdit=function(e){a.setState({users:a.state.users.map(function(t){return t.id===e.id?Object(Z.a)({},t,e):t})})},a.state={users:[],userGroups:[]},a.userModalRef=r.a.createRef(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.selectMenuItem("user"),M.a.get("hub/userGroup").then(function(t){e.setState({userGroups:t.data})}),M.a.get("hub/user").then(function(t){e.setState({users:t.data})})}},{key:"render",value:function(){var e=this;return this.props.user.userGroupId===Ae?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",{className:"user-panel"},r.a.createElement(Be,{ref:this.userModalRef,onAdd:this.onAdd,onEdit:this.onEdit,userGroups:this.state.userGroups}),r.a.createElement(f.a,{className:"add-btn",type:"primary",icon:"plus",onClick:this.showAddModal},"Dodajte novog korisnika"),r.a.createElement(x.a,{bordered:!0,dataSource:this.state.users,rowKey:"id"},r.a.createElement(x.a.Column,{dataIndex:"email",title:"Email"}),r.a.createElement(x.a.Column,{dataIndex:"firstName",title:"Ime"}),r.a.createElement(x.a.Column,{dataIndex:"lastName",title:"Prezime"}),r.a.createElement(x.a.Column,{dataIndex:"userGroup",title:"Grupa",render:function(t,a){var n=e.state.userGroups.find(function(e){return e.id===a.userGroupId});return n?r.a.createElement("div",null,n.name):null}}),";",r.a.createElement(x.a.Column,{dataIndex:"action",render:function(t,a){return r.a.createElement("div",null,r.a.createElement(y.a,{title:"Izmjena"},r.a.createElement(f.a,{type:"circle",size:"small",icon:"edit",onClick:function(t){return e.userModalRef.current.showEditModal(a,e.props.user.id)}})),r.a.createElement(y.a,{title:"Generisanje nove lozinke"},r.a.createElement(f.a,{type:"circle",size:"small",icon:"lock",onClick:function(t){return e.onGeneratePassword(a)}})),a.id!==e.props.user.id&&r.a.createElement(y.a,{title:"Brisanje"},r.a.createElement(f.a,{type:"circle",size:"small",className:"delete-btn",icon:"delete",onClick:function(t){return e.onDelete(a)}})))}})))}}]),t}(r.a.Component),Ze=Object(b.b)(function(e){return{user:e.userData}},{selectMenuItem:q})(Qe),Ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getStateAction().then(function(t){return e.setState({loading:!1})}).catch(function(t){return e.setState({loading:!0})})}},{key:"render",value:function(){if(this.state.loading){var e=r.a.createElement(h.a,{type:"loading",style:{fontSize:24},spin:!0});return r.a.createElement(xe.a,{className:"spinner",indicator:e})}return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(qe,null),r.a.createElement(m.b,{exact:!0,path:"/",render:function(){return r.a.createElement(m.a,{to:"/timesheet"})}}),r.a.createElement(m.b,{path:"/login",exact:!0,component:ke}),r.a.createElement(Fe,{path:"/timesheet",exact:!0,component:Ne,authenticated:this.props.authenticated}),r.a.createElement(Fe,{path:"/project",exact:!0,component:je,authenticated:this.props.authenticated}),r.a.createElement(Fe,{path:"/user",exact:!0,component:Ze,authenticated:this.props.authenticated}))))}}]),t}(r.a.Component),We=Object(b.b)(function(e){return{authenticated:!!e.userData}},{getStateAction:function(){return function(e){return new Promise(function(t,a){M.a.get("hub/user/state").then(function(n){200===n.status?(e({type:A,payload:n.data.user}),t()):a()}).catch(function(e){return a()})})}}})(Ve);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=a(61),Xe=Object(Ke.c)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===A||t.type===O?t.payload:t.type===S?null:e},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===I?t.payload:t.type===C?[].concat(Object(V.a)(e),[t.payload]):t.type===D?e.filter(function(e){return e.id!==t.payload}):t.type===F?e.map(function(e){return e.id!==t.payload.id?e:Object(Z.a)({},e,t.payload,{finished:!0})}):t.type===T?e.map(function(e){return e.id!==t.payload.id?e:Object(Z.a)({},e,t.payload)}):e},timesheets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===w?t.payload.map(function(e){return Object(Z.a)({},e,{date:new Date(e.date),created:new Date(e.created)})}):t.type===N?[].concat(Object(V.a)(e),[Object(Z.a)({},t.payload,{date:new Date(t.payload.date)})]):t.type===P?e.filter(function(e){return e.id!==t.payload}):e},selectedDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1?arguments[1]:void 0;return t.type===z?t.payload:e},selectedMenuItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"timesheet",t=arguments.length>1?arguments[1]:void 0;return t.type===R?t.payload:e}}),Ye=a(207),Je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ke.d;i.a.render(r.a.createElement(b.a,{store:Object(Ke.e)(Xe,Je(Object(Ke.a)(Ye.a)))},r.a.createElement(We,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[210,1,2]]]);
//# sourceMappingURL=main.02369e15.chunk.js.map